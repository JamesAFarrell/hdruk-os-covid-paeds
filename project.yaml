version: '3.0'

expectations:
  population_size: 2000

actions:

  generate_study_population:
    run: cohortextractor:latest generate_cohort --study-definition study_definition --output-format csv.gz
    outputs:
      highly_sensitive:
        cohort: output/input.csv.gz

  generate_dummy_data:
    run: r:latest analysis/01_generate_dummy_data.R
    needs: [generate_study_population]
    outputs:
      highly_sensitive:
        dummy_data_admissions: output/dummy_data/dummy_data_admissions.csv.gz
        dummy_data_outpatient: output/dummy_data/dummy_data_outpatient.csv.gz
        dummy_data_gp: output/dummy_data/dummy_data_gp.csv.gz
        dummy_data_testing_negative: output/dummy_data/dummy_data_testing_negative.csv.gz
        dummy_data_testing_positive: output/dummy_data/dummy_data_testing_positive.csv.gz

  generate_admissions:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_admissions
        --index-date-range "2018-10-01 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
    dummy_data_file: output/dummy_data/dummy_data_admissions.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_admissions: output/data_weekly/input_admissions_20*.csv.gz

  generate_outpatient:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_outpatient
        --index-date-range "2019-03-11 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_outpatient.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_outpatient: output/data_weekly/input_outpatient_20*.csv.gz

  generate_covid_tests_negative:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_covid_tests_negative
        --index-date-range "2019-12-30 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
    dummy_data_file: output/dummy_data/dummy_data_testing_negative.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_negative_tests: output/data_weekly/input_covid_tests_negative_20*.csv.gz

  generate_covid_tests_positive:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_covid_tests_positive
        --index-date-range "2019-12-30 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
    dummy_data_file: output/dummy_data/dummy_data_testing_positive.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_positive_tests: output/data_weekly/input_covid_tests_positive_20*.csv.gz

  generate_gp_KM_auditory_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_auditory_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_auditory_system_20*.csv.gz

  generate_gp_KM_cardiovascular_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_cardiovascular_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_cardiovascular_system_20*.csv.gz

  generate_gp_KM_cellular_component_of_blood:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_cellular_component_of_blood
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_cellular_component_of_blood_20*.csv.gz

  generate_gp_KM_central_nervous_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_central_nervous_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_central_nervous_system_20*.csv.gz

  generate_gp_KM_congenital_disease:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_congenital_disease
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_congenital_disease_20*.csv.gz

  generate_gp_KM_connective_tissue:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_connective_tissue
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_connective_tissue_20*.csv.gz

  generate_gp_KM_digestive_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_digestive_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_digestive_system_20*.csv.gz

  generate_gp_KM_endocrine_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_endocrine_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_endocrine_system_20*.csv.gz

  generate_gp_KM_fetus_newborn:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_fetus_newborn
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_fetus_newborn_20*.csv.gz

  generate_gp_KM_genitourinary_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_genitourinary_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_genitourinary_system_20*.csv.gz

  generate_gp_KM_hematopoietic_structure:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_hematopoietic_structure
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_hematopoietic_structure_20*.csv.gz

  generate_gp_KM_immune_function:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_immune_function
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_immune_function_20*.csv.gz

  generate_gp_KM_infectious_disease:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_infectious_disease
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_infectious_disease_20*.csv.gz

  generate_gp_KM_labor_delivery:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_labor_delivery
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_labor_delivery_20*.csv.gz

  generate_gp_KM_mental_disorder:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_mental_disorder
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_mental_disorder_20*.csv.gz

  generate_gp_KM_metabolic_disease:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_metabolic_disease
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_metabolic_disease_20*.csv.gz

  generate_gp_KM_musculoskeletal_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_musculoskeletal_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_musculoskeletal_system_20*.csv.gz

  generate_gp_KM_neoplastic_disease:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_neoplastic_disease
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_neoplastic_disease_20*.csv.gz

  generate_gp_KM_nervous_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_nervous_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_nervous_system_20*.csv.gz

  generate_gp_KM_nutritional_disorder:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_nutritional_disorder
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_nutritional_disorder_20*.csv.gz

  generate_gp_KM_poisoning:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_poisoning
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_poisoning_20*.csv.gz

  generate_gp_KM_pregnancy_childbirth:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_pregnancy_childbirth
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_pregnancy_childbirth_20*.csv.gz

  generate_gp_KM_puerperium:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_puerperium
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_puerperium_20*.csv.gz

  generate_gp_KM_respiratory_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_respiratory_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_respiratory_system_20*.csv.gz

  generate_gp_KM_skin_subcutaneous_tissue:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_skin_subcutaneous_tissue
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_skin_subcutaneous_tissue_20*.csv.gz

  generate_gp_KM_traumatic_injury:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_traumatic_injury
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_traumatic_injury_20*.csv.gz

  generate_gp_KM_visual_system:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_KM_visual_system
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_KM_visual_system_20*.csv.gz

  generate_gp_mapped_0_occupations:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_0_occupations
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_0_occupations_20*.csv.gz

  generate_gp_mapped_1_history_symptoms:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_1_history_symptoms
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_1_history_symptoms_20*.csv.gz

  generate_gp_mapped_2_examination_signs:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_2_examination_signs
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_2_examination_signs_20*.csv.gz

  generate_gp_mapped_3_diagnostic_procedures:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_3_diagnostic_procedures
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_3_diagnostic_procedures_20*.csv.gz

  generate_gp_mapped_4_laboratory_procedures:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_4_laboratory_procedures
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_4_laboratory_procedures_20*.csv.gz

  generate_5_radiology_physics_in_medicine:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_5_radiology_physics_in_medicine
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_5_radiology_physics_in_medicine_20*.csv.gz

  generate_gp_mapped_6_preventive_procedures:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_6_preventive_procedures
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_6_preventive_procedures_20*.csv.gz

  generate_gp_mapped_7_operations_procedures_sites:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_7_operations_procedures_sites
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_7_operations_procedures_sites_20*.csv.gz

  generate_gp_mapped_8_other_therapeutic_procedures:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_8_other_therapeutic_procedures
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_8_other_therapeutic_procedures_20*.csv.gz

  generate_gp_mapped_9_administration:
    run: >
      cohortextractor:latest generate_cohort
        --study-definition study_definition_gp_mapped_9_administration
        --index-date-range "2018-12-31 to 2022-05-02 by week"
        --output-format csv.gz
        --output-dir=output/data_weekly
        --with-end-date-fix
    dummy_data_file: output/dummy_data/dummy_data_gp.csv.gz
    needs: [generate_dummy_data]
    outputs:
      highly_sensitive:
        data_gp_contacts: output/data_weekly/input_gp_mapped_9_administration_20*.csv.gz

  process_patient_ids:
    run: r:latest analysis/02_process_patient_ids.R
    needs: [generate_study_population]
    outputs:
      highly_sensitive:
        data_id: output/data/data_id.rds

  process_gp_data:
    run: r:latest analysis/02_process_gp_data.R
    needs: [generate_gp_KM_auditory_system, generate_gp_KM_cardiovascular_system,
            generate_gp_KM_cellular_component_of_blood, generate_gp_KM_central_nervous_system,
            generate_gp_KM_congenital_disease, generate_gp_KM_connective_tissue,
            generate_gp_KM_digestive_system, generate_gp_KM_endocrine_system,
            generate_gp_KM_fetus_newborn, generate_gp_KM_genitourinary_system,
            generate_gp_KM_hematopoietic_structure, generate_gp_KM_immune_function,
            generate_gp_KM_infectious_disease, generate_gp_KM_labor_delivery,
            generate_gp_KM_mental_disorder, generate_gp_KM_metabolic_disease,
            generate_gp_KM_musculoskeletal_system, generate_gp_KM_neoplastic_disease,
            generate_gp_KM_nervous_system, generate_gp_KM_nutritional_disorder,
            generate_gp_KM_poisoning, generate_gp_KM_pregnancy_childbirth,
            generate_gp_KM_puerperium, generate_gp_KM_respiratory_system,
            generate_gp_KM_skin_subcutaneous_tissue, generate_gp_KM_traumatic_injury,
            generate_gp_KM_visual_system, 
            generate_gp_mapped_0_occupations, generate_gp_mapped_1_history_symptoms,
            generate_gp_mapped_2_examination_signs, generate_gp_mapped_3_diagnostic_procedures,
            generate_gp_mapped_4_laboratory_procedures, generate_5_radiology_physics_in_medicine,
            generate_gp_mapped_6_preventive_procedures, generate_gp_mapped_7_operations_procedures_sites,
            generate_gp_mapped_8_other_therapeutic_procedures, generate_gp_mapped_9_administration,
            process_patient_ids]
    outputs:
      highly_sensitive:
        data_gp: output/data/data_gp.rds
      moderately_sensitive:
        diagnostics_gp: output/diagnostics/diagnostics_gp.csv